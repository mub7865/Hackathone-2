@tailwind base;
@tailwind components;
@tailwind utilities;

/**
 * Global Styles for UI Theme, Motion & Calm Experience
 * Feature: 006-ui-theme-motion
 */

@layer base {
  /**
   * Base dark theme styles
   * Applied to the root element for consistent dark mode
   */
  :root {
    color-scheme: dark;
  }

  html {
    @apply bg-background-base text-text-secondary;
  }

  body {
    @apply antialiased;
  }
}

@layer components {
  /**
   * Time-of-Day Gradient Backgrounds
   * Subtle ambient gradients that create atmosphere without distraction
   *
   * Morning (6:00-11:59): Warm amber tones suggesting sunrise
   * Afternoon (12:00-17:59): Neutral soft blue suggesting daylight
   * Evening (18:00-5:59): Deep indigo suggesting twilight/night
   */
  .bg-gradient-morning {
    background: linear-gradient(
      135deg,
      rgba(251, 191, 36, 0.08) 0%,    /* amber-400 at 8% opacity */
      rgba(2, 6, 23, 0.95) 50%,       /* slate-950 transition */
      rgba(15, 23, 42, 1) 100%        /* slate-900 */
    );
  }

  .bg-gradient-afternoon {
    background: linear-gradient(
      135deg,
      rgba(96, 165, 250, 0.06) 0%,    /* blue-400 at 6% opacity */
      rgba(2, 6, 23, 0.95) 50%,       /* slate-950 transition */
      rgba(15, 23, 42, 1) 100%        /* slate-900 */
    );
  }

  .bg-gradient-evening {
    background: linear-gradient(
      135deg,
      rgba(99, 102, 241, 0.1) 0%,     /* indigo-500 at 10% opacity */
      rgba(2, 6, 23, 0.95) 50%,       /* slate-950 transition */
      rgba(15, 23, 42, 1) 100%        /* slate-900 */
    );
  }

  .bg-gradient-night {
    background: linear-gradient(
      135deg,
      rgba(55, 48, 107, 0.12) 0%,     /* deep violet at 12% opacity */
      rgba(2, 6, 23, 0.98) 50%,       /* slate-950 transition */
      rgba(10, 15, 30, 1) 100%        /* deeper slate */
    );
  }

  /**
   * Focus ring utility
   * Consistent focus states across the UI
   */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-accent-primary focus:ring-offset-2 focus:ring-offset-background-base;
  }

  /**
   * Card surface utility
   * Consistent card/container styling
   */
  .surface-card {
    @apply bg-background-elevated border border-border-subtle rounded-lg;
  }

  /**
   * Input surface utility
   * Consistent input field styling
   */
  .surface-input {
    @apply bg-background-surface border border-border-subtle rounded-md;
    @apply text-text-primary placeholder:text-text-muted;
    @apply transition-colors duration-fast;
    @apply focus:border-accent-primary focus:outline-none focus:ring-1 focus:ring-accent-primary;
  }
}

@layer utilities {
  /**
   * Reduced Motion Support
   * Respects user's motion preferences for accessibility (FR-018, SC-004)
   *
   * When prefers-reduced-motion is enabled:
   * - All animations are effectively instant (0.01ms)
   * - All transitions are effectively instant (0.01ms)
   * - Opacity changes still occur (just instantly) to maintain visibility cues
   */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /**
   * Motion-safe animations
   * Only apply animations when user hasn't requested reduced motion
   */
  @media (prefers-reduced-motion: no-preference) {
    .animate-safe {
      @apply transition-all duration-normal;
    }
  }

  /**
   * Scrollbar styling
   * Subtle, calm scrollbar that matches the dark theme
   */
  .scrollbar-calm {
    scrollbar-width: thin;
    scrollbar-color: theme('colors.border.subtle') transparent;
  }

  .scrollbar-calm::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-calm::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-calm::-webkit-scrollbar-thumb {
    background-color: theme('colors.border.subtle');
    border-radius: 3px;
  }

  .scrollbar-calm::-webkit-scrollbar-thumb:hover {
    background-color: theme('colors.border.visible');
  }

  /**
   * Wow Layer â€“ Ambient Animation Keyframes
   * Feature: 006-ui-theme-motion (FR-032, FR-034, FR-035)
   *
   * Orbital Aurora Belt: Very slow rotation/scale (45-90s loop)
   * Calm Orbit Marker: Subtle pulse/rotate (10-15s loop)
   * All use only transform and opacity for 60fps performance
   */
  @keyframes orbital-rotate {
    0% {
      transform: rotate(0deg) scale(1);
    }
    50% {
      transform: rotate(180deg) scale(1.05);
    }
    100% {
      transform: rotate(360deg) scale(1);
    }
  }

  @keyframes orbital-rotate-reverse {
    0% {
      transform: rotate(360deg) scale(1.02);
    }
    50% {
      transform: rotate(180deg) scale(0.98);
    }
    100% {
      transform: rotate(0deg) scale(1.02);
    }
  }

  @keyframes orb-pulse {
    0% {
      transform: scale(1) rotate(0deg);
      opacity: 0.6;
    }
    50% {
      transform: scale(1.1) rotate(180deg);
      opacity: 0.8;
    }
    100% {
      transform: scale(1) rotate(360deg);
      opacity: 0.6;
    }
  }

  /* Ambient animation classes */
  .animate-orbital {
    animation: orbital-rotate 60s linear infinite;
  }

  .animate-orbital-reverse {
    animation: orbital-rotate-reverse 75s linear infinite;
  }

  .animate-orbital-slow {
    animation: orbital-rotate 90s linear infinite;
  }

  .animate-orb-pulse {
    animation: orb-pulse 12s ease-in-out infinite;
  }
}
